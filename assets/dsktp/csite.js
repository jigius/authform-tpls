var cookie=function(){function t(e,t,u,n){var r,o="",i="";u&&((r=new Date).setTime(r.getTime()+1e3*u),o="; expires="+r.toGMTString()),i=e+"="+t+o+"; path=/",n&&(i+="; domain="+n),document.cookie=i}return{create:t,read:function(e){for(var t=e+"=",u=document.cookie.split(";"),n=0;n<u.length;n++){for(var r=u[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}},erase:function(e){t(e,"",-1)}}},YndMetrikaECommerce=(Number.prototype.format=function(e,t,u,n){t="\\d(?=(\\d{"+(t||3)+"})+"+(0<e?"\\D":"$")+")",e=this.toFixed(Math.max(0,~~e));return(n?e.replace(".",n):e).replace(new RegExp(t,"g"),"$&"+(u||","))},!function(n){n.acc={};u={};const e=function(){this.create=function(e){if(u[e=void 0===e?"unspecified":e])throw new Error("topic with name `"+e+"` is exist already");return u[e]=new o,u[e]},this.createOrFetch=function(e){let t;return void 0===e&&(e="unspecified"),t=this.has(e)?u[e]:this.create(e)},this.has=function(e){return!!u[e=void 0===e?"unspecified":e]}};var u,r,t;r=[];const o=function(){this.event=function(e,t){if(void 0===e)throw new Error("invalid args");return r[e]||(t=n.Callbacks(t),r[e]={publish:t.fire,subscribe:t.add,unsubscribe:t.remove}),r[e]}};n.Topic=(t=(new e).create()).event.bind(t),n.fn.extend({event:n.Topic,Topics:e}),YndMetrikaECommerce||n.fn.extend({sendingYndMetrikaECommerce:function(e,t){let u=YndMetrikaECommerce.Container("RUB",!0),n=u.action(t).product(e).send().done(function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:e})});return n.promise()}}),n(document).on("shown.bs.modal",".modal.modal-window",function(e){const t=n("input:text:visible:first",this),u=t.closest("form");0<u.length&&!u.hasClass("-test")&&0<t.length&&t.focus()})}(jQuery),!function(i){function a(e){return!!/^[0-9]+$/.test(e)&&Number(e)}function o(e){return e=Number(e.replace(/\s/,"").replace(/\,/,".")),!isNaN(e)&&e}function c(){var n=0,r=0;i(".count_item").each(function(){var e=a(i(this).val()),t=o(i(this).parent().parent().parent().find(".item_price.-price-cur").text());if(!1===e||!1===t)return i.fn.addMsg(l,"danger","Ошибка"),!1;var t=e*t,u=(i(this).parent().parent().parent().find(".item_summ_price.-price-cur").text(i.fn.formatMoney(t)),n+=t,o(i(this).parent().parent().parent().find(".item_price.-price-old").text()));u?(itemTotalOld=e*u,i(this).parent().parent().parent().find(".item_summ_price.-price-old").text(i.fn.formatMoney(itemTotalOld)),r+=itemTotalOld):r+=t}),i(".total_cart.-price-cur").text(i.fn.formatMoney(n||0)),i(".total_cart.-price-old").text(i.fn.formatMoney(r||0))}var s="Нет связи с сервером :( Проверьте Ваше подлючение к Сети или повторите запрос позже...",l="Что-то пошло не так :( Мы уже устраняем проблему. Попробуйте Ваш запрос позже.",t=(i.acc=i.acc||{},i.acc.MSG_CONNECTION_TO_SERVER_IS_FAILED=s,i.acc.MSG_UNKNOWN_ERROR_OCCURS=l,i.fn.formatMoney=function(e){return e.format(0,3," ",",")},i.fn.addToCart=function(){var t=i(this).parent(),u=a(t.find('input[name="count"]').val()),n=t.find('input[name="product_code"]').val(),e=t.find('input[name="storage_code"]').val(),r=(t.parent().parent().find(".storage_count_text"),i.Deferred());return!1===u?(i.fn.addMsg(l,"danger","Ошибка"),!1):u<=0?(i.fn.addMsg("Извините, товар на складе закончился","info","Внимание"),!1):(i.ajax({type:"POST",url:"/ajax.php/cart/add/",data:{count:u,product_code:n,storage_code:e},dataType:"json"}).done(function(e){!e||e[0]?r.reject({msg:e[0]||l,level:"danger"}):(i.Topic("cart@newValueForCount").publish(e[1].count),i.Topic("buttonbuy@argsAreChanged").publish(t,e[1].res.rest,e[1].res.moq,e[1].res.inCart),r.resolve({quantity:u,id:n}),i.fn.addMsg("Товар добавлен в корзину!","success","Успех"),i(".modal-content").append('<div class="modal-footer text-center"><a href="javascript:void(0);"  type="button" class="btn btn-yellow" data-dismiss="modal" aria-label="Close">Вернуться</a><a href="/catalog/?c=cart" class="btn btn-yellow in-cart">В корзину</a></div>'))}).fail(function(e){r.reject({msg:s,level:"danger"})}),void r.done(function(e){e=[{id:e.id,quantity:e.quantity}];i.fn.sendingYndMetrikaECommerce(e,YndMetrikaECommerce.AddActionType())}).fail(function(e){i.fn.addMsg(e.msg,e.level,"Ошибка")}))},i.fn.activeControlBtnInCart=function(e){i(".cart_control_button .btn").attr("disabled",!e),e?i(".cart_control_button .btn").removeClass("disabled"):i(".cart_control_button .btn").addClass("disabled")},i.fn.deleteInCart=function(){var t=[],u=[],n=!1,r=i.Deferred();return i(".cart_delete_item:checked").each(function(){t.push(i(this).attr("item"));var e=i(this).parent().parent().find(".count_item");e&&(yId=e.data("code"),yCount=a(e.data("onum")),yId&&yCount&&u.push({id:yId,quantity:yCount})),i(this).parent().parent().remove()}),i.ajax({type:"POST",url:"/ajax.php/cart/delete/",data:{items:t.join(",")},dataType:"json"}).done(function(e){i.fn.activeControlBtnInCart(0<e.count),i.fn.cartModule(e.count,e.summ),i.fn.addMsg("Выбранные позиции удалены из корзины","success","Успех"),n=!(e.count||e.summ),r.resolve()}).fail(function(e){r.reject(),i.fn.addMsg(s,"danger","Ошибка")}),i.isEmptyObject(u)||r.done(function(e){i.fn.sendingYndMetrikaECommerce(u,YndMetrikaECommerce.RemoveActionType()).done(function(){n?location.reload():c()})}).fail(function(e){i.fn.addMsg(e.msg,e.level,"Ошибка")}),r},{isChecked:!(i.fn.recalculateCart=function(){var e=[],t=[],o=i.Deferred();i(".count_item").each(function(){e.push(i(this).attr("item")),t.push(i(this).val())}),i.ajax({type:"POST",url:"/ajax.php/cart/recalc/",data:{items:e.join(","),counts:t.join(",")},dataType:"json"}).done(function(e){if(!e)return o.reject({msg:l,level:"danger"});if(1!==e.status)return o.reject({msg:e.msg||"Извините, но нашем складе нет такого товара :(",level:"danger"});function t(){if(!(this instanceof arguments.callee))return new t;this._items=[],this._filtered=[],this.filterItems=function(e){if(!this._filtered[e])return[];var u=[],e=this._filtered[e],n=this;return i.each(e,function(e,t){u.push(n._items[t])}),u},this.pullDOMData=function(){var o=this;return i(".count_item").each(function(e,t){var u,t=i(t),n=a(t.data("onum")),r=a(t.val());n&&r&&n!==r&&(void 0===o._filtered[u=r<n?"remove":"add"]&&(o._filtered[u]=[]),t=t.data("code"),o._filtered[u].push(t),o._items[t]={id:t,quantity:Math.max(n,r)-Math.min(n,r),position:e+1,__total:r})}),this},this.pushDOMData=function(){var r=this;return i(".count_item").each(function(e,t){var t=i(t),u=t.data("code"),n=r._item(u);u&&n&&t.data("onum",n.__total)}),this},this._item=function(e){return this._items[e]}}var u=e.items,u=(i.each(u,function(){i('input[item="'+this.code+'"]').val(this.count)}),c(),"Количество пересчитано"),n="Успех",r=(i.fn.cartModule(e.count,e.summ),e.needMore&&(u+=" с учетом реальных остатков на складе",n="Внимание"),i.fn.addMsg(u+"!","success",n),t.prototype={},new t),e=i.Deferred();r.pullDOMData(),e.then(function(){var e=r.filterItems("add");if(!i.isEmptyObject(e))return i.fn.sendingYndMetrikaECommerce(e,YndMetrikaECommerce.AddActionType())}).then(function(){var e=r.filterItems("remove");if(!i.isEmptyObject(e))return i.fn.sendingYndMetrikaECommerce(e,YndMetrikaECommerce.RemoveActionType())}).done(function(){r.pushDOMData()}).fail(function(e){i.fn.addMsg(e.msg,e.level,"Ошибка")}),e.resolve()}).fail(function(e){i.fn.addMsg(s,"danger","Ошибка")}),o.fail(function(e){i.fn.addMsg(e.msg,e.level,"Ошибка"),i(".count_item[data-onum]").each(function(e,t){i(t).val(i(t).data("onum"))})})}),countInvalid:0});i(document).ready(function(){i(".count_minus").click(function(){var e=i(this).parent().find('input[name="count"]'),t=i(e).data("storage-count"),u=a(e.val()),t=(a(t),!1===(t=a(i(e).data("moq")))?1:t);!1!==u&&(t<u&&(u%t==0?u-=t:u=Math.floor(u/t)*t),e.val(u).trigger("change"))}),i(".count_plus").click(function(){var e=i(this).parent().find('input[name="count"]'),t=i(e).data("storage-count"),u=a(e.val()),t=a(t),n=a(i(e).data("moq"));!1!==u&&!1!==t&&(u<t&&(u=t<(u+=n)?t:u),e.val(u).trigger("change"))}),i(".cart_delete_all_item").click(function(e){i(".cart_delete_item").prop("checked",!!i(this).is(":checked")).trigger("change")}),i(".cart_delete_item").change(function(e){(isChecked=0<i(".cart_delete_item:checked").length)^t.isChecked&&(target=i("#cart_delete_items, .cart_delete_all_item"),isChecked?target.trigger("cart:item_checked"):target.trigger("cart:item_unchecked"),t.isChecked=isChecked)}),i(".cart_delete_all_item").on("cart:item_unchecked",function(e){i(this).prop("checked",!1)}),i("#cart_delete_items").prop("disabled",!0).on("cart:item_checked",function(e){i(this).prop("disabled",!1)}).on("cart:item_unchecked cart:count_invalid",function(e){i(this).prop("disabled",!0)}).on("cart:count_valid",function(e){t.isChecked&&(t.isChecked=!t.isChecked),i(".cart_delete_item").trigger("change")}),i(".count_item").on("keyup change",function(e){var t,u,n,r;""!==i(this).val()&&(t=i(this).data("storage-count"),u=a(i(this).val()),n=i(this).data("o-val"),r=i(this).data("moq"),u!==n&&(!1!==u&&0!=u||i(this).val(r),t<u&&(i(this).val(t),i.fn.addMsg("Актуальный остаток товара на складе","info","Внимание"))))}).focusout(function(e){var t=i(this).data("storage-count"),u=a(i(this).val()),n=i(this).data("o-val"),r=i(this).data("moq");u!==n&&(u=!1!==u&&0!=u?u:1)%r!=0&&u!=t&&(!((u=Math.floor(u/r)*r)<r)||(u=Math.min(r,t))==r?i.fn.addMsg("Изменено с учетом значения `Минимальный заказ`","info","Внимание"):i.fn.addMsg("Актуальный остаток товара на складе","info","Внимание"),i(this).val(u))}),i(".count_aware").removeClass("disabled").attr("disabled",!1).on("cart:count_invalid",function(e){i(this).addClass("disabled").attr("disabled",!0)}).on("cart:count_valid",function(e){i(this).removeClass("disabled").attr("disabled",!1)}),i(".addToCart").on("cart:accessToButton",function(e){var t=i(i(this).parent().find(".count_item"));t&&(i(this).attr("disabled",!!t.prop("countInvalid")),t.prop("countInvalid")?i(this).addClass("disabled"):i(this).removeClass("disabled"))}),i(".cart_delete_item").trigger("change")})}(jQuery),!function(){function o(e,t){var u,n,r,o,i,a=arguments.callee;function c(e){return(""+e).replace(/[&<>\'\"]/g,function(e){return i[e]})}return a.cache[e]||(a.cache[e]=(n=/^[\w\-]+$/.test(u=e)?a.get(e):(u="template(string)",e),r=1,n=("try { "+(a.variable?"var "+a.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+n.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++r+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(a.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+u+"' + ' line ' + this.line + ')'; } //@ sourceURL="+u+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(n),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},function(e){return o.call(a.context={escapeHTML:c,line:1,ret:"",stash:e})})),t?a.cache[e](t):a.cache[e]}function u(t,e){function u(e){return e.include=function(e,t){var u={};for(n in o.context.stash)o.context.stash.hasOwnProperty(n)&&(u[n]=o.context.stash[n]);if(t)for(var n in t)t.hasOwnProperty(n)&&(u[n]=t[n]);var r=o.context;r.ret+=o(e,u),o.context=r},e.wrapper=function(e,t){var u=o.context.ret,t=(o.context.ret="",t.apply(o.context),o.context.ret),n=o.context.stash.content;o.context.stash.content=t,o.context.ret=u+o(e,o.context.stash),o.context.stash.content=n},o(t,e)}return e?u(e):u}o.cache={},o.get=function(e){return document.getElementById(e).innerHTML},o.get=function(e){var t=u.get;return t?t(e):document.getElementById(e).innerHTML},this.template=o,this.extended=u,this.tmpl=o}(),function(){function n(e){if(!(this instanceof arguments.callee))return new n(e);this.message=e}n.prototype=new Error;var i=function(e){return!!/^[0-9]+$/.test(e)&&Number(e)},r=function(e){return(err=new n(e.error||"error occurs")).code=e.code,err};if(void 0===window.jQuery)throw new n("invalid environment - no jQuery library");function u(e,t){if(!(this instanceof arguments.callee))return new u(e,t);this._currencyCode=e||"RUB",this._action=void 0,this._product=[],this._productExtraData=[],this._replace=!!t||!0}function e(){if(!(this instanceof arguments.callee))return new e;this._name="detail"}function t(){if(!(this instanceof arguments.callee))return new t;this._name="add"}function o(){if(!(this instanceof arguments.callee))return new o;this._name="remove"}function a(e,t,u,n){if(!(this instanceof arguments.callee))return new a(e,t,u,n);this._name="purchase",this._id=e,this._coupon=t,this._goalId=u,this._revenue=!!n&&Number(n)||void 0,this.hasActionField=function(){return!0},this.exportActionField=function(){return ret={id:this._id},this._coupon&&(ret.coupon=this._coupon),this._goalId&&(ret.goal_id=this._goalId),this._revenue&&(ret.revenue=this._revenue),ret}}var c=window.jQuery,s=(u.prototype={action:function(e){if(e instanceof s)return this._action=e,this;throw new n("invalid argument")},product:function(e){var u=this;if(c.isArray(e))return c.each(e,function(e,t){if(!t.id)throw new n("couldn't get ids of products");u._product.push(t.id),u._productExtraData[t.id]=t}),this;throw new n("invalid argument")},validate:function(){if(!this._action||c.isEmptyObject(this._product))throw new n("object's data has invalid state")},send:function(){var t=this,u=(this.validate(),this._action.printType()),n=new l,r={};return r.currencyCode=this._currencyCode,r[u]={},this._action.hasActionField()&&(r[u].actionField=this._action.exportActionField()),n.import(this._product).then(function(e){return r[u].products=t._addExtraData(n.export()),r}).promise()},_addExtraData:function(e){var n=this;return c.map(e,function(u){return c.each(n._productExtraData[u.id],function(e,t){"string"!=typeof e||"__"===e.substr(0,2)||u[e]&&!n._replace||(u[e]=t)}),u})}},function(){if(!(this instanceof arguments.callee))return new s;this._name="unknown",this.printType=function(){return this._name},this.hasActionField=function(){return!1},this.exportActionField=function(){return{}}}),l=(s.prototype={},e.prototype=s(),t.prototype=s(),o.prototype=s(),a.prototype=s(),function(){if(!(this instanceof arguments.callee))return new l;this._products=[]}),d=(l.prototype={product:function(e){e=c.inArray(e,this._products);if(-1!==e)return this._products[e]},add:function(e){return-1===c.inArray(e.printProperty("id"),this._products)&&this._products.push(e),this},delete:function(e){e=c.inArray(e,this._products);return-1!==e&&this._products.splice(e,1),this},clear:function(){return this._products=[],this},import:function(e){var u=this;if(!e||!c.isArray(e)||c.isEmptyObject(e))throw new n("invalid argument");var t=c.Deferred();return c.ajax({url:"/ajax.php/pimany",timeOut:1e4,method:"POST",dataType:"json",data:{code:e},global:!1}).done(function(e){e[0]?t.reject(r(e[0])):(c.isArray(e[1])&&!c.isEmptyObject(e[1])||t.reject(new n("data is corrupted")),c.each(e[1],function(e,t){u.add(d.prototype.import(t))}),t.resolve())}).fail(function(){t.reject(new n("no correct reply from service"))}),t},export:function(){var u=[];return c.each(this._products,function(e,t){u.push(t.export())}),u}},function(e){if(!(this instanceof arguments.callee))return new d(e);if("string"!=typeof e||!e)throw new n("argument is invalid");this._property={},this._property.id=e});return d.prototype={printProperty:function(e){return this._property[e]},validate:function(){if(this.printProperty("id")&&this.printProperty("name"))return this;throw new n("object has invalid property")},quantity:function(e){if("string"==typeof e){if(!1===(e=i(e)))throw new n("invalid argument")}else if("number"!=typeof number||!e||e<1)throw new n("invalid argument");return this._property.quantity=e,this},position:function(e){if("string"==typeof e){if(!1===(e=i(e)))throw new n("invalid argument")}else if("number"!=typeof e||!e||e<1)throw new n("invalid argument");return this._property.position=e,this},coupon:function(e){if("string"==typeof e&&e)return this._property.coupon=e,this;throw new n("invalid argument")},export:function(){for(var e,t,u={},n=(this.validate(),["id","name","brand","category","variant","coupon"]),r=n.length,o=0;o<r;o++)(e=this.printProperty(n[o]))&&(u[n[o]]=e);for(r=(n=["price","quantity","position"]).length,o=0;o<r;o++)(e=this.printProperty(n[o]))&&!1!==(t=i(e))&&0<t&&(u[n[o]]=t);return u},import:function(e){for(var t=new d(e.id),u=["name","brand","category","price","variant","quantity","position","coupon"],n=u.length,r=0;r<n;r++)t._property[u[r]]=e[u[r]];return t.validate(),t}},{Container:u,ProductsFieldObject:l,ProductFieldObject:d,DetailActionType:e,AddActionType:t,RemoveActionType:o,PurchaseActionType:a,CustomError:n}}());window.dataLayer=window.dataLayer||[],function(o){function e(){o.LoadingOverlay("show",{fade:[2e3,1e3]})}o.fn.yaCounter=o.Deferred(),o(document).on("yaCounterIsInited",function(e,t){o.fn.yaCounter.resolve(t)}),o.fn.addMsg=function(e,t,u){o.fn.showModal("tmpl_popup",{id:"cart-modal",level:t||"info",title:u||"",msg:e||"Что-то пошло не так :( Мы уже устраняем проблему. Попробуйте Ваш запрос позже.",timeout:10})},o(window).load(function(){var e=o.fn.modal.Constructor.prototype.setScrollbar,t=(o.fn.modal.Constructor.prototype.setScrollbar=function(){e.apply(this),this.bodyIsOverflowing&&this.scrollbarWidth&&o(".-navbar-fixed").css("padding-right",this.scrollbarWidth)},o.fn.modal.Constructor.prototype.resetScrollbar);o.fn.modal.Constructor.prototype.resetScrollbar=function(){t.apply(this),o(".-navbar-fixed").css("padding-right","")}}),o(document).ajaxSend(function(){o.LoadingOverlay("show",e)}),o(document).ajaxComplete(function(){o.LoadingOverlay("hide")}),o(".--callback").click(function(e){e.preventDefault(),o.fn.showModal("tmpl_callback",{id:"modalCallback"},function(e,t){var u=!0;o("#callback input").on("change keyup",function(e){u=!(0<o("#callback .nm").val().replace(/\s/g,"").length&&11==o("#callback .ph").val().replace(/\D/g,"").length&&1==o(".politic-conf").is(":checked")),o("#callback .send").attr("disabled",u)}),o("#callback .send").on("click",function(e){u||o.ajax({type:"POST",url:"/ajax.php/callback",data:{name:o("#callback .nm").val(),phone:o("#callback .ph").val()},dataType:"json"}).then(function(e){return e?e[0]?o.Deferred().reject(Error(e[0])):void o.fn.showModal("tmpl_popup",{id:"callback-info",level:"info",title:"Успех",msg:e[1],timeout:3}):o.Deferred().reject(Error(o.fn.msgFailure))}).fail(function(e){msg=e instanceof Error?e.message:o.fn.msgFailure,o.fn.showModal("tmpl_popup",{id:"callback-error",level:"danger",title:"Ошибка",msg:msg,timeout:2})})}),o("#modalCallback").modal("show")})}),o.fn.msgFailure="Что-то пошло не так :(",o.fn.showModal=function(t,u,n){var r=o.Deferred();o("body.modal-open").length?(o(".modal").on("hidden.bs.modal",function(e){r.resolve()}),o(".modal").modal("hide")):r.resolve(),r.done(function(){var e;o("#modal-place").html(tmpl(t,u)),n&&o.isFunction(n)?n(t,u):u.id&&((e=o("#"+u.id)).modal("show"),u.timeout&&window.setTimeout(function(){e.modal("hide")},1e3*u.timeout))})},o("#blk-finder .submit").each(function(e){o(this).attr("disabled",!o(this).parent().find(".input").val())}).keypress(function(e){if(13==e.which)return this.trigger("click"),!1}),o("#blk-finder .input").bind("change keyup paste input propertychange",function(e){var t=o(this).val();o(this).parent().find(".submit").attr("disabled",!(t&&t.match(/[A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/)))}).keypress(function(e){if(13==e.which)return o(this).parent().find(".submit").trigger("click"),!1}),o("input.-phone").mask("+7 (000) 000 00 00"),o(".ugolok.btn-show-all").click(function(e){e=o(e.target).parent().parent().children("#shtorka-id");e.hasClass("-close")?e.removeClass("-close"):e.addClass("-close")}),window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.querySelector(".js-navbar-fixed");if(t)if(105.7<e){t.style.position="fixed",t.style.top=0,document.querySelector("body").style.marginTop="80px";for(var u=document.querySelectorAll(".js-onscroll-menu-item"),n=0;n<u.length;n++)u[n].style.display="table-cell";t.querySelector(".-home")&&t.querySelector(".-home").classList.add("-homescroll"),t.classList.add("-navbar-fixed")}else{document.querySelector("body").style.marginTop="0",t.style.position="static";var r=document.querySelectorAll(".js-onscroll-menu-item");for(n=0;n<r.length;n++)r[n].style.display="none";t.querySelector(".-home")&&t.querySelector(".-home").classList.remove("-homescroll"),t.classList.remove("-navbar-fixed")}},o('[data-toggle="tooltip"]').tooltip(),o.Topic("modalMessage@show").subscribe(function(e,t,u){o.fn.showModal(e,t,u)}),o('select[name="type"],select.company_type').change(function(){1==o('select[name="type"] option:selected, select.company_type option:selected').val()?(o(".urlico").hide(),o(".urlico input.required").prop("required",!1)):(o(".urlico input.required").prop("required",!0),o(".urlico").show())}),o(".ttp").tooltip(),o("#current_company").change(function(){var e=o("#current_company option:selected").val();location.replace("/catalog/?c=profile&set_current_company="+e)}),scroll(0,0)}(jQuery);const uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,allowedAttribute=(e,t)=>{var u=e.nodeName.toLowerCase();if(t.includes(u))return!uriAttributes.has(u)||Boolean(SAFE_URL_PATTERN.test(e.nodeValue)||DATA_URL_PATTERN.test(e.nodeValue));const n=t.filter(e=>e instanceof RegExp);for(let e=0,t=n.length;e<t;e++)if(n[e].test(u))return!0;return!1};function sanitizeHtml(e,u,t){if(!e.length)return e;if(t&&"function"==typeof t)return t(e);const n=new window.DOMParser,r=n.parseFromString(e,"text/html");var o=[].concat(...r.body.querySelectorAll("*"));for(let e=0,t=o.length;e<t;e++){const a=o[e];var i=a.nodeName.toLowerCase();if(Object.keys(u).includes(i)){const c=[].concat(...a.attributes),s=[].concat(u["*"]||[],u[i]||[]);c.forEach(e=>{allowedAttribute(e,s)||a.removeAttribute(e.nodeName)})}else a.remove()}return r.body.innerHTML}const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DATA_ATTRIBUTE_PATTERN=/^data-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN,DATA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[],button:["type"],input:["accept","alt","autocomplete","autofocus","capture","checked","dirname","disabled","height","list","max","maxlength","min","minlength","multiple","type","name","pattern","placeholder","readonly","required","size","src","step","value","width","inputmode"],select:["name"],textarea:["name"],option:["value","selected"]};window.Joomla=window.Joomla||{},window.Joomla.editors=window.Joomla.editors||{},window.Joomla.editors.instances=window.Joomla.editors.instances||{},window.Joomla.Modal=window.Joomla.Modal||{current:"",setCurrent:e=>{window.Joomla.current=e},getCurrent:()=>window.Joomla.current},(a=>{a.extend=(e,t)=>{let u=null===e?{}:e;return[].slice.call(Object.keys(t)).forEach(e=>{u[e]=t[e]}),e},a.optionsStorage=a.optionsStorage||null,a.getOptions=(e,t)=>(a.optionsStorage||a.loadOptions(),void 0!==a.optionsStorage[e]?a.optionsStorage[e]:t),a.loadOptions=t=>{if(!t){const e=[].slice.call(document.querySelectorAll(".joomla-script-options.new"));let u=0;if(e.forEach(e=>{var t=e.text||e.textContent,t=JSON.parse(t);t&&(a.loadOptions(t),u+=1),e.className=e.className.replace(" new"," loaded")}),u)return}a.optionsStorage?t&&[].slice.call(Object.keys(t)).forEach(e=>{null!==t[e]&&"object"==typeof a.optionsStorage[e]&&"object"==typeof t[e]?a.optionsStorage[e]=a.extend(a.optionsStorage[e],t[e]):a.optionsStorage[e]=t[e]}):a.optionsStorage=t||{}},a.Text={strings:{},_:(e,t)=>{let u=e,n=t;e=a.getOptions("joomla.jtext");return e&&(a.Text.load(e),a.loadOptions({"joomla.jtext":null})),n=void 0===n?u:n,u=u.toUpperCase(),void 0!==a.Text.strings[u]?a.Text.strings[u]:n},load:t=>([].slice.call(Object.keys(t)).forEach(e=>{a.Text.strings[e.toUpperCase()]=t[e]}),a.Text)},a.JText=a.Text,a.submitform=(e,t,u)=>{let n=t;t=e;n=n||document.getElementById("adminForm"),t&&(n.task.value=t),n.noValidate=!u,u?n.hasAttribute("novalidate")&&n.removeAttribute("novalidate"):n.setAttribute("novalidate","");const r=document.createElement("input");r.classList.add("hidden"),r.type="submit",n.appendChild(r).click(),n.removeChild(r)},a.submitbutton=(t,e,u)=>{let n=document.querySelector(e||"form.form-validate"),r=u;if(n="string"==typeof e&&null===n?document.querySelector("#"+e):n){if(void 0===r||null===r){u=t.split(".");let e=n.getAttribute("data-cancel-task");e=e||u[0]+".cancel",r=t!==e}r&&!document.formvalidator.isValid(n)||a.submitform(t,n)}else a.submitform(t)},a.checkAll=(t,e)=>{if(!t.form)return!1;const u=e||"cb",n=[].slice.call(t.form.elements);let r=0;return n.forEach(e=>{e.type===t.type&&0===e.id.indexOf(u)&&(e.checked=t.checked,r+=e.checked?1:0)}),t.form.boxchecked&&(t.form.boxchecked.value=r,t.form.boxchecked.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))),!0},a.isChecked=(e,t)=>{let u=t;if(void 0===u?u=document.getElementById("adminForm"):"string"==typeof t&&(u=document.getElementById(t)),u.boxchecked.value=e?parseInt(u.boxchecked.value,10)+1:parseInt(u.boxchecked.value,10)-1,u.boxchecked.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0})),u.elements["checkall-toggle"]){let e=!0,t;var n,r;for(t=0,r=u.elements.length;t<r;t++)if("checkbox"===(n=u.elements[t]).type&&"checkall-toggle"!==n.name&&!n.checked){e=!1;break}u.elements["checkall-toggle"].checked=e}},a.tableOrdering=(e,t,u,n)=>{let r=n;void 0===r?r=document.getElementById("adminForm"):"string"==typeof n&&(r=document.getElementById(n)),r.filter_order.value=e,r.filter_order_Dir.value=t,a.submitform(u,r)},a.listItemTask=(e,t,u=null)=>{let n=u;const r=(n=null!==u?document.getElementById(u):document.adminForm)[e];let o=0,i;if(!r)return!1;for(;;){if(!(i=n["cb"+o]))break;i.checked=!1,o+=1}return r.checked=!0,n.boxchecked.value=1,a.submitform(t,n),!1},a.replaceTokens=t=>{if(/^[0-9A-F]{32}$/i.test(t)){const e=[].slice.call(document.getElementsByTagName("input"));e.forEach(e=>{"hidden"===e.type&&"1"===e.value&&32===e.name.length&&(e.name=t)})}},a.request=e=>{let t;const u=a.extend({url:"",method:"GET",data:null,perform:!0},e);try{var n;if((t=new XMLHttpRequest).open(u.method,u.url,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("X-Ajax-Engine","Joomla!"),"GET"!==u.method&&((n=a.getOptions("csrf.token",""))&&t.setRequestHeader("X-CSRF-Token",n),"string"!=typeof u.data||u.headers&&u.headers["Content-Type"]||t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),u.headers&&[].slice.call(Object.keys(u.headers)).forEach(e=>{"Content-Type"===e&&"false"===u.headers["Content-Type"]||t.setRequestHeader(e,u.headers[e])}),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status?u.onSuccess&&u.onSuccess.call(window,t.responseText,t):u.onError&&u.onError.call(window,t),u.onComplete&&u.onComplete.call(window,t))},u.perform){if(u.onBefore&&!1===u.onBefore.call(window,t))return t;t.send(u.data)}}catch(e){return window.console,!1}return t},a.sanitizeHtml=(e,t,u)=>{return sanitizeHtml(e,null==t?DefaultAllowlist:{...DefaultAllowlist,...t},u)},a.ajaxErrorsMessages=(e,t)=>{const u={};if("parsererror"===t){const n=[];let t=e.responseText.trim();for(let e=t.length-1;0<=e;e--)n.unshift(["&#",t[e].charCodeAt(),";"].join(""));t=n.join(""),u.error=[a.Text._("JLIB_JS_AJAX_ERROR_PARSE").replace("%s",t)]}else"nocontent"===t?u.error=[a.Text._("JLIB_JS_AJAX_ERROR_NO_CONTENT")]:"timeout"===t?u.error=[a.Text._("JLIB_JS_AJAX_ERROR_TIMEOUT")]:"abort"===t?u.error=[a.Text._("JLIB_JS_AJAX_ERROR_CONNECTION_ABORT")]:e.responseJSON&&e.responseJSON.message?u.error=[`${a.Text._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",e.status)} <em>${e.responseJSON.message}</em>`]:e.statusText?u.error=[`${a.Text._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",e.status)} <em>${e.statusText}</em>`]:u.error=[a.Text._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",e.status)];return u}})(Joomla),window.customElements.define("joomla-hidden-mail",class extends HTMLElement{constructor(){super(),this.newElement="",this.base=""}disconnectedCallback(){this.innerHTML=""}connectedCallback(){if(this.base=this.getAttribute("base")+"/","1"===this.getAttribute("is-link")?(this.newElement=document.createElement("a"),this.newElement.setAttribute("href",`mailto:${this.constructor.b64DecodeUnicode(this.getAttribute("first"))}@`+this.constructor.b64DecodeUnicode(this.getAttribute("last"))),[].slice.call(this.attributes).forEach((e,t)=>{var u=this.attributes.item(t)["nodeName"];u&&-1===["is-link","is-email","first","last","text"].indexOf(u)&&(t=this.attributes.item(t)["nodeValue"],this.newElement.setAttribute(u,t))})):this.newElement=document.createElement("span"),this.getAttribute("text")){let e=this.constructor.b64DecodeUnicode(this.getAttribute("text"));e=e.replace('src="images/',`src="${this.base}images/`).replace('src="media/',`src="${this.base}media/`),this.newElement.innerHTML=Joomla.sanitizeHtml(e)}else this.newElement.innerText=window.atob(this.getAttribute("first"))+"@"+window.atob(this.getAttribute("last"));this.innerText="",this.appendChild(this.newElement)}static b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(atob(e),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}});